<%= render partial: 'shared/header' %>

<div class="registration_new_content">

  <%= form_with model: @user, url: user_registration_path, class: 'registration_new_fields', local: true do |f| %>

  <h2 class="registration_new_title">お客様情報変更画面</h2>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:human_name) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:human_name).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :human_name, "お名前" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.text_field :human_name, autofocus: true %>
        <p>例）むすび 太郎</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:agency_code) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:agency_code).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :agency_code, "代理店コード" %>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.text_field :agency_code %>
        <p>招待された方は入力下さい</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>


  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:postal_code) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:postal_code).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :postal_code, "お届け先郵便番号" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.text_field :postal_code, id: "postal_code", maxlength: 7 %>
        <p>半角数字でハイフン無し</p>
        <p>例）1234567</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:address) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:address).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :address, "お届け先住所" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.text_field :address, id: "address"  %>
        <p>都道府県から入力下さい</p>
        <p>例）大阪府大阪市北区〇〇町〇〇丁目〇〇番地〇〇号</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:phone_number) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:phone_number).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :phone_number, "電話番号" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.text_field :phone_number, maxlength: 11 %>
        <p>半角数字でハイフン無し</p>
        <p>例）09012345678</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:email) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:email).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :email, "メールアドレス" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.email_field :email %>
        <p>例）musubi@gmail.com</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>

  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:password) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:password).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :password, "パスワード（変更する場合は入力）" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.password_field :password, id: "user_password" %>
        <p>8桁以上の半角英数字、記号は含まない</p>
      </div>
    </div>

  </div>

  <div class="module-spacer--medium"></div>
  
  <div class="registration_new_field">

    <div class="registration_new_field_alert">
      <% if @user.errors.include?(:password_confirmation) %>
      <p class="alert_danger" style=" color: red;">
        <%= @user.errors.full_messages_for(:password_confirmation).first %>
      <% end %>
    </div>

    <div class="registration_new_field_main">
      <div class="registration_new_field_main_title">
        <%= f.label :password_confirmation, "パスワード（確認用）" %>
        <span>必須</span>
      </div>
      <div class="registration_new_field_main_enter">
        <%= f.password_field :password_confirmation, id: "user_password_confirmation" %>
      </div>
    </div>

  </div>

  <div class="module-spacer--large"></div>

  <div class="registration_new_field_button">
    <%= f.submit "情報変更", class: "edit_btn" %>
  </div>

  <div class="module-spacer--medium"></div>

  <% end %>

</div>

<%= render partial: 'shared/footer' %>

<%= javascript_pack_tag "shared/address" %>
<%= javascript_pack_tag "users/password" %>